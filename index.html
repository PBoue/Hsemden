<!doctype html>
<html lang="de">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>DigiChildProtect – Forschungspräsentation</title>
        <meta
            name="description"
            content="Forschungsdesign-Präsentation für das DigiChildProtect-Projekt an der Hochschule Emden/Leer."
        />
        <!-- Critical CSS for no-JS mode: show hidden animated elements -->
        <noscript>
            <style>
                /* Show elements that are hidden via framer-motion initial state */
                [style*='opacity: 0'],
                [style*='opacity:0'] {
                    opacity: 1 !important;
                    transform: none !important;
                }
                /* Hide JS-only navigation elements */
                .js-only {
                    display: none !important;
                }
                /* Show no-JS navigation */
                .nojs-nav {
                    display: block !important;
                }
            </style>
        </noscript>
    </head>

    <body>
        <!-- Hidden form for Netlify Forms detection during build -->
        <form
            name="contact"
            netlify
            netlify-honeypot="bot-field"
            hidden
        >
            <input
                type="text"
                name="bot-field"
            />
            <input
                type="text"
                name="name"
            />
            <input
                type="email"
                name="email"
            />
            <input
                type="text"
                name="subject"
            />
            <textarea name="message"></textarea>
        </form>

        <!-- No-JS navigation bar (hidden when JS is enabled) -->
        <noscript>
            <nav
                style="
                    position: fixed;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    background: #fff;
                    border-top: 1px solid #e5e7eb;
                    padding: 0.75rem 1rem;
                    z-index: 50;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    font-family: system-ui, sans-serif;
                "
            >
                <a
                    href="/"
                    style="color: #3b82f6; text-decoration: none"
                    >← Start</a
                >
                <a
                    href="/navigation/"
                    style="color: #3b82f6; text-decoration: none"
                    >Alle Folien</a
                >
                <span style="color: #6b7280; font-size: 0.875rem"
                    >Ohne JavaScript</span
                >
            </nav>
        </noscript>

        <div id="root"><!--app-html--></div>
        <script
            type="module"
            src="/src/entry-client.tsx"
        ></script>
        <!-- Handle Netlify Identity redirect after email confirmation/login -->
        <script>
            if (window.netlifyIdentity) {
                window.netlifyIdentity.on('init', function (user) {
                    if (!user) {
                        window.netlifyIdentity.on('login', function () {
                            document.location.href = '/';
                        });
                    }
                });
            }
        </script>
    </body>
</html>
